<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" 
  xmlns:content="http://purl.org/rss/1.0/modules/content/" 
  xmlns:dc="http://purl.org/dc/elements/1.1/" 
  xmlns:atom="http://www.w3.org/2005/Atom" 
  xmlns:sy="http://purl.org/rss/1.0/modules/syndication/" 
  xmlns:media="http://search.yahoo.com/mrss/">
  <channel>
    <title>工具 on WTY&#39;s Blog</title>
    <link>http://www.wty.center/zh/tags/%E5%B7%A5%E5%85%B7/</link>
    <description>Recent content in 工具 on WTY&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <managingEditor>wty525582234@163.com (walter wu)</managingEditor>
    <webMaster>wty525582234@163.com (walter wu)</webMaster>
    <copyright>©2021, All Rights Reserved</copyright>
    <lastBuildDate>Thu, 23 Dec 2021 16:32:06 +0900</lastBuildDate>
    
        <atom:link href="http://www.wty.center/zh/tags/%E5%B7%A5%E5%85%B7/index.xml" rel="self" type="application/rss+xml" />
    

      
      <item>
        <title>Docker常用命令</title>
        <link>http://www.wty.center/zh/posts/docker_command/</link>
        <pubDate>Thu, 23 Dec 2021 16:32:06 +0900</pubDate>
        <author>wty525582234@163.com (walter wu)</author>
        <atom:modified>Thu, 23 Dec 2021 16:32:06 +0900</atom:modified>
        <guid>http://www.wty.center/zh/posts/docker_command/</guid>
        <description>Docker容器信息 ##查看docker容器版本 docker version ##查看docker容器信息 docker info ##查看docker容器帮助 docker --help 镜像操作 镜像查看 提示：对</description>
        <content:encoded>&lt;h2 id=&#34;docker容器信息&#34;&gt;Docker容器信息&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##查看docker容器版本
docker version
##查看docker容器信息
docker info
##查看docker容器帮助
docker --help
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;镜像操作&#34;&gt;镜像操作&lt;/h2&gt;
&lt;h3 id=&#34;镜像查看&#34;&gt;镜像查看&lt;/h3&gt;
&lt;p&gt;提示：对于镜像的操作可使用镜像名、镜像长ID和短ID。&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##列出本地images
docker images
##含中间映像层
docker images -a
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;http://www.wty.center/images/docker/img.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##只显示镜像ID
docker images -q
##含中间映像层
docker images -qa  
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;http://www.wty.center/images/docker/1659331-20190521104927909-600452122.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##显示镜像摘要信息(DIGEST列)
docker images --digests
##显示镜像完整信息
docker images --no-trunc
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;http://www.wty.center/images/docker/1659331-20190521105114405-1780655005.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##显示指定镜像的历史创建；参数：-H 镜像大小和日期，默认为true；--no-trunc  显示完整的提交记录；-q  仅列出提交记录ID
docker history -H redis
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;镜像搜索&#34;&gt;镜像搜索&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##搜索仓库MySQL镜像
docker search mysql
## --filter=stars=600：只显示 starts&amp;gt;=600 的镜像
docker search --filter=stars=600 mysql
## --no-trunc 显示镜像完整 DESCRIPTION 描述
docker search --no-trunc mysql
## --automated ：只列出 AUTOMATED=OK 的镜像
docker search  --automated mysql
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;http://www.wty.center/images/docker/img_1.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;镜像下载&#34;&gt;镜像下载&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##下载Redis官方最新镜像，相当于：docker pull redis:latest
docker pull redis
##下载仓库所有Redis镜像
docker pull -a redis
##下载私人仓库镜像
docker pull bitnami/redis
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;http://www.wty.center/images/docker/img_2.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;镜像删除&#34;&gt;镜像删除&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##单个镜像删除，相当于：docker rmi redis:latest
docker rmi redis
##强制删除(针对基于镜像有运行的容器进程)
docker rmi -f redis
##多个镜像删除，不同镜像间以空格间隔
docker rmi -f redis tomcat nginx
##删除本地全部镜像
docker rmi -f $(docker images -q)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;镜像构建&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##（1）编写dockerfile
cd /docker/dockerfile
vim mycentos
##（2）构建docker镜像
docker build -f /docker/dockerfile/mycentos -t mycentos:1.1
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;容器操作&#34;&gt;容器操作&lt;/h2&gt;
&lt;p&gt;提示：对于容器的操作可使用CONTAINER ID 或 NAMES。&lt;/p&gt;
&lt;h3 id=&#34;容器启动&#34;&gt;容器启动&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##新建并启动容器，参数：-i  以交互模式运行容器；-t  为容器重新分配一个伪输入终端；--name  为容器指定一个名称
docker run -i -t --name mycentos
##后台启动容器，参数：-d  已守护方式启动容器
docker run -d mycentos
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;注意：此时使用&amp;quot;docker ps -a&amp;quot;会发现容器已经退出。这是docker的机制：要使Docker容器后台运行，就必须有一个前台进程。解决方案：将你要运行的程序以前台进程的形式运行。&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##启动一个或多个已经被停止的容器
docker start redis
##重启容器
docker restart redis
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;容器进程&#34;&gt;容器进程&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##top支持 ps 命令参数，格式：docker top [OPTIONS] CONTAINER [ps OPTIONS]
##列出redis容器中运行进程
docker top redis
##查看所有运行容器的进程信息
for i in  `docker ps |grep Up|awk &#39;{print $1}&#39;`;do echo / &amp;amp;&amp;amp;docker top $i; done
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;容器日志&#34;&gt;容器日志&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##查看redis容器日志，默认参数
docker logs rabbitmq
##查看redis容器日志，参数：-f  跟踪日志输出；-t   显示时间戳；--tail  仅列出最新N条容器日志；
docker logs -f -t --tail=20 redis
##查看容器redis从2019年05月21日后的最新10条日志。
docker logs --since=&amp;quot;2019-05-21&amp;quot; --tail=10 redis
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;容器的进入与退出&#34;&gt;容器的进入与退出&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##使用run方式在创建时进入
docker run -it centos /bin/bash
##关闭容器并退出
exit
##仅退出容器，不关闭
快捷键：Ctrl + P + Q
##直接进入centos 容器启动命令的终端，不会启动新进程，多个attach连接共享容器屏幕，参数：--sig-proxy=false  确保CTRL-D或CTRL-C不会关闭容器
docker attach --sig-proxy=false centos 
##在 centos 容器中打开新的交互模式终端，可以启动新进程，参数：-i  即使没有附加也保持STDIN 打开；-t  分配一个伪终端
docker exec -i -t  centos /bin/bash
##以交互模式在容器中执行命令，结果返回到当前终端屏幕
docker exec -i -t centos ls -l /tmp
##以分离模式在容器中执行命令，程序后台运行，结果不会反馈到当前终端
docker exec -d centos  touch cache.txt 
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;查看容器&#34;&gt;查看容器&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##查看正在运行的容器
docker ps
##查看正在运行的容器的ID
docker ps -q
##查看正在运行+历史运行过的容器
docker ps -a
##显示运行容器总文件大小
docker ps -s
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;http://www.wty.center/images/docker/img_3.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://www.wty.center/images/docker/img_4.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##显示最近创建容器
docker ps -l
##显示最近创建的3个容器
docker ps -n 3
##不截断输出
docker ps --no-trunc 
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;http://www.wty.center/images/docker/img_5.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##获取镜像redis的元信息
docker inspect redis
##获取正在运行的容器redis的 IP
docker inspect --format=&#39;{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}&#39; redis
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;容器的停止与删除&#34;&gt;容器的停止与删除&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##停止一个运行中的容器
docker stop redis
##杀掉一个运行中的容器
docker kill redis
##删除一个已停止的容器
docker rm redis
##删除一个运行中的容器
docker rm -f redis
##删除多个容器
docker rm -f $(docker ps -a -q)
docker ps -a -q | xargs docker rm
## -l 移除容器间的网络连接，连接名为 db
docker rm -l db 
## -v 删除容器，并删除容器挂载的数据卷
docker rm -v redis
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;生成镜像&#34;&gt;生成镜像&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##基于当前redis容器创建一个新的镜像；参数：-a 提交的镜像作者；-c 使用Dockerfile指令来创建镜像；-m :提交时的说明文字；-p :在commit时，将容器暂停
docker commit -a=&amp;quot;DeepInThought&amp;quot; -m=&amp;quot;my redis&amp;quot; [redis容器ID]  myredis:v1.1
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;容器与主机之间的数据拷贝&#34;&gt;容器与主机之间的数据拷贝&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;##将rabbitmq容器中的文件copy至本地路径
docker cp rabbitmq:/[container_path] [local_path]
##将主机文件copy至rabbitmq容器
docker cp [local_path] rabbitmq:/[container_path]/
##将主机文件copy至rabbitmq容器，目录重命名为[container_path]（注意与非重命名copy的区别）
docker cp [local_path] rabbitmq:/[container_path]
&lt;/code&gt;&lt;/pre&gt;</content:encoded>
        <dc:creator>wty</dc:creator>
        <media:content url="http://www.wty.centerimages/docker/img_6.png" medium="image"><media:title type="html">featured image</media:title></media:content>
        
        
        
          
            
              <category>工具</category>
            
          
        
        
          
            
              <category>杂文</category>
            
          
        
        
      </item>
      
      <item>
        <title>sublime设置取消更新无效</title>
        <link>http://www.wty.center/zh/posts/sublime_setting/</link>
        <pubDate>Mon, 20 Dec 2021 12:00:06 +0900</pubDate>
        <author>wty525582234@163.com (walter wu)</author>
        <atom:modified>Mon, 20 Dec 2021 12:00:06 +0900</atom:modified>
        <guid>http://www.wty.center/zh/posts/sublime_setting/</guid>
        <description>sublime设置&amp;quot;update_check&amp;quot;: false,没有效果 Preferences-&amp;gt;Settings-U</description>
        <content:encoded>&lt;h1 id=&#34;sublime设置update_check-false没有效果&#34;&gt;sublime设置&amp;quot;update_check&amp;quot;: false,没有效果&lt;/h1&gt;
&lt;p&gt;Preferences-&amp;gt;Settings-User中设置&amp;quot;update_check&amp;quot;:false,（注意是英文符号，逗号结尾）&lt;/p&gt;
&lt;p&gt;可是没有什么效果，重启还是还是弹出来自动更新的提示，直到注册了软件之后：&lt;/p&gt;
&lt;p&gt;help－Enter License输入&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;—– BEGIN LICENSE —–  
TwitterInc  
200 User License  
EA7E-890007  
1D77F72E 390CDD93 4DCBA022 FAF60790  
61AA12C0 A37081C5 D0316412 4584D136  
94D7F7D4 95BC8C1C 527DA828 560BB037  
D1EDDD8C AE7B379F 50C9D69D B35179EF  
2FE898C4 8E4277A8 555CE714 E1FB0E43  
D5D52613 C3D12E98 BC49967F 7652EED2  
9D2D2E61 67610860 6D338B72 5CF95C69  
E36B85CC 84991F19 7575D828 470A92AB  
—— END LICENSE —— 
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;如果提示已过期，上网重新找注册码！！&lt;/p&gt;
</content:encoded>
        <dc:creator>wty</dc:creator>
        <media:content url="http://www.wty.centerimages/feature1/sublime.jpg" medium="image"><media:title type="html">featured image</media:title></media:content>
        
        
        
          
            
              <category>工具</category>
            
          
        
        
          
            
              <category>杂文</category>
            
          
        
        
      </item>
      

    
  </channel>
</rss>
